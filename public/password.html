<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>認証</title>
<style>
body{background:#111;color:#fff;display:flex;align-items:center;justify-content:center;height:100vh}
.box{background:#222;padding:30px;border-radius:10px;width:280px;text-align:center}
input,button{width:100%;padding:10px;margin-top:10px}
button{background:#00b900;color:#fff;border:none}
.error{color:#ff5c5c;height:1em}
</style>
</head>
<body>

<div class="box">
  <h2>パスワード</h2>
  <input id="pw" type="password">
  <button onclick="check()">入室</button>
  <div class="error" id="err"></div>
</div>

<script>
async function check(){
  const p = document.getElementById("pw").value;
  const res = await fetch("/auth?p=" + encodeURIComponent(p));
  const data = await res.json();
  if (data.ok) {
    localStorage.setItem("auth","ok");
    location.href = "/index.html";
  } else {
    document.getElementById("err").textContent = "パスワードが違います";
  }
}
</script>

</body>
</html>
